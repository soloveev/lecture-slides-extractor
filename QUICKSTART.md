# Быстрый старт

Минимальное руководство для начала работы с Lecture Slides Extractor.

## За 3 минуты

### 1. Установка (1 минута)

```bash
cd lecture-slides-extractor
pip3 install -r requirements.txt
```

### 2. Тест (30 секунд)

```bash
python3 test_modules.py
```

Должно вывести: `✓ ВСЕ ТЕСТЫ ПРОЙДЕНЫ УСПЕШНО!`

### 3. Запуск (1 минута)

```bash
python3 src/main.py --video YOUR_VIDEO.mp4 --transcript YOUR_TRANSCRIPT.txt
```

Готово! Результат в `output.md` и папке `slides/`.

## Примеры команд

### Базовый запуск

```bash
python3 src/main.py --video lecture.mp4 --transcript transcript.txt
```

### С пользовательским выходным файлом

```bash
python3 src/main.py \
  --video lecture.mp4 \
  --transcript transcript.txt \
  --output "Лекция_1.md" \
  --title "Введение в Python"
```

### Быстрая обработка (для тестирования)

```bash
python3 src/main.py \
  --video lecture.mp4 \
  --transcript transcript.txt \
  --sample-rate 2.0 \
  --threshold 0.80
```

### Высокая точность

```bash
python3 src/main.py \
  --video lecture.mp4 \
  --transcript transcript.txt \
  --sample-rate 0.5 \
  --threshold 0.95
```

### Обработка папки с видео и транскриптом

Если у вас есть папка с видео и транскриптом:

```bash
python3 auto_process.py "путь/к/папке" --force
```

Скрипт автоматически найдет видео и транскрипт в папке и обработает их.

### Используя helper-скрипт

```bash
./run_example.sh lecture.mp4 transcript.txt
```

## Формат транскрипта

Создайте текстовый файл с форматом:

```
|(MM:SS - MM:SS)
|Текст который говорит лектор
|
|(MM:SS - MM:SS)
|Следующий сегмент
```

Пример (сохраните как `transcript.txt`):

```
|(0:02 - 0:22)
|Привет! Сегодня мы будем говорить про искусственный интеллект.
|
|(0:22 - 0:45)
|Начнем с основных концепций и определений.
|
|(0:45 - 1:15)
|Машинное обучение - это подмножество искусственного интеллекта.
```

## Что получится на выходе

### Структура файлов

```
your-folder/
├── output.md          # Markdown с текстом и ссылками на слайды
└── slides/            # Папка с изображениями слайдов
    ├── slide_001.png
    ├── slide_002.png
    └── slide_003.png
```

### Пример содержимого output.md

```markdown
# Лекция

## Слайд 1 (0:02)
![Слайд 1](<./slides/slide_001.png>)

Привет! Сегодня мы будем говорить про искусственный интеллект.

---

## Слайд 2 (0:22)
![Слайд 2](<./slides/slide_002.png>)

Начнем с основных концепций и определений.
```

**Примечание**: Пути к изображениям используют угловые скобки `<>` для корректной работы с пробелами в именах файлов.

## Частые вопросы

### Как получить транскрипт?

Вы можете использовать:
- **Whisper от OpenAI**: `whisper video.mp4 --language Russian`
- **MacWhisper**: GUI приложение для macOS
- **Otter.ai**: Онлайн-сервис
- Вручную

Затем отформатируйте в нужный формат.

### Сколько времени займёт обработка?

Примерно 15-20 минут на 1 час видео на M3.

### Что делать если слайды определяются неточно?

Попробуйте:
- Уменьшить `--threshold` до 0.90 (больше слайдов, менее строгое сравнение)
- Увеличить `--threshold` до 0.95 (меньше слайдов, более строгое сравнение)
- Уменьшить `--sample-rate` до 0.5 (чаще анализирует кадры, ловит быстрые переключения)

**Примечание**: При запуске программа предложит выбрать область анализа (где НЕТ лектора). По умолчанию используется левый нижний угол (30%). Сохраняются полные кадры слайдов.

### Программа не находит смену слайдов

1. Проверьте, что слайды действительно меняются (не анимация)
2. Уменьшите `--threshold` до 0.75-0.80
3. Уменьшите `--sample-rate` до 0.5

### Слишком много слайдов

1. Увеличьте `--threshold` до 0.95 (более строгое сравнение)
2. Увеличьте `--sample-rate` до 2.0 (реже анализирует кадры)

### Текст дублируется между слайдами

Это исправлено! Текст теперь распределяется пропорционально времени между слайдами без дублирования. Если большой интервал транскрипта попадает на несколько слайдов, текст разбивается пропорционально.

## Дополнительные ресурсы

- **README.md**: Полная документация
- **INSTALL.md**: Подробная установка
- **OPTIMIZATION.md**: Настройки производительности
- **example_transcript.txt**: Пример транскрипта

## Помощь

Если что-то не работает:

```bash
# Проверьте установку
python3 test_modules.py

# Запустите с verbose для диагностики
python3 src/main.py --video video.mp4 --transcript transcript.txt --verbose
```

## Лицензия и благодарности

Разработано для AI Lab  
© 2024

---

**Готовы начать? Запустите:**

```bash
python3 src/main.py --video YOUR_VIDEO.mp4 --transcript YOUR_TRANSCRIPT.txt
```

